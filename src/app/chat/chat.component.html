
<form (ngSubmit)="onSubmit()" #chat="ngForm">
	<div class="chat-stream" #chatStream>
		<div *ngFor="let c of chat$ | async; trackBy tracker">
			<div class="chat-item d-flex align-items-center">

				<div class="chat-author-group d-flex flex-column justify-content-center align-items-center">
					<img [src]="c.from.picture.medium" class="chat-thumbnail"/>
				</div>

				<div class="chat-message-group">
					<div class="chat-message">{{c.text}}</div>
					<div class="chat-name">{{c.from.name.first | titlecase}}</div>
				</div>

			</div>
		</div>
		<a id="endOfChat"></a>
	</div>

	<div class="chat-control">
		<div class="form-group">
			<div class="input-group">
					<div class="input-group-prepend">
						<img [src]="userObject?.picture.thumbnail" class="author-thumbnail"/>
					</div>
				<!--<ng2-completer inputClass="form-control" name="message" [(ngModel)]="model.text" [datasource]="dataService" [minSearchLength]="0"></ng2-completer>-->
				<input id="message" name="message" type="text" [(ngModel)]="model.text" (ngModelChange)="handleSearch($event)" class="form-control"/>
				<div class="input-group-append">
					<button type="submit" class="btn btn-primary btn-success">Send</button>
				</div>
			</div>
		</div>
	</div>
	
	<div *ngIf="hits.length" class="handleResults" [ngStyle]="{'left': calcLeft(), 'top': calcTop()}">
		<div *ngFor="let hit of hits" class="user-hit" >
			<img [src]="hit.picture.thumbnail" class="chat-thumbnail-sm"/>
			<span class="handle">{{ hit.handle }}</span>
			<span class="name">
				{{ hit.name.first }}	
				{{ hit.name.last }}
			</span>
		</div>
	</div>
</form>